<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:svg="clr-namespace:Avalonia.Svg.Skia;assembly=Avalonia.Svg.Skia"
             mc:Ignorable="d" d:DesignWidth="60" d:DesignHeight="60"
             x:Class="HyPrism.UI.Views.MusicPlayerView">
    
    <Button Width="48" 
            Height="48"
            Background="#CC1A1A1A"
            CornerRadius="24"
            Padding="0"
            Command="{Binding ToggleMusicCommand}"
            ToolTip.Tip="{Binding MusicTooltip}">
        <Button.Styles>
            <Style Selector="Button:pointerover">
                <Setter Property="Background" Value="#CC252525"/>
            </Style>
            <Style Selector="Button:pressed">
                <Setter Property="Background" Value="#CC2D2D2D"/>
            </Style>
        </Button.Styles>
        
        <Panel>
            <!-- Volume Icon (when music is playing) -->
            <svg:Svg Path="/Assets/Icons/volume-2.svg" 
                     Width="20" 
                     Height="20"
                     IsVisible="{Binding IsMusicEnabled}">
                <svg:Svg.RenderTransform>
                    <ScaleTransform ScaleX="{Binding VolumeScale}" 
                                    ScaleY="{Binding VolumeScale}"/>
                </svg:Svg.RenderTransform>
                <svg:Svg.Transitions>
                    <Transitions>
                        <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.15"/>
                    </Transitions>
                </svg:Svg.Transitions>
            </svg:Svg>
            
            <!-- Muted Icon (when music is off) -->
            <svg:Svg Path="/Assets/Icons/volume-x.svg" 
                     Width="20" 
                     Height="20"
                     Opacity="0.5"
                     IsVisible="{Binding !IsMusicEnabled}"/>
        </Panel>
    </Button>
</UserControl>
